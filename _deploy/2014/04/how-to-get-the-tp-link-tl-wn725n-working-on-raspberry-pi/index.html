<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>How to get the TP-Link TL-WN725N working on Raspberry Pi - Tiago’s Tech Blog</title>
<meta name="description" content="Recently I bought two TP-Link TL-WN725N adapters off Amazon. They&#8217;re cheap and according to the RPi peripherals list [here], are supposed to work well under Linux. They do, however, require a special driver which is not included in the Linux kernel itself. This leaves you with two options:">


  <meta name="author" content="Tiago Espinha">
  
  <meta property="article:author" content="Tiago Espinha">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Tiago's Tech Blog">
<meta property="og:title" content="How to get the TP-Link TL-WN725N working on Raspberry Pi">
<meta property="og:url" content="http://localhost:4000/2014/04/how-to-get-the-tp-link-tl-wn725n-working-on-raspberry-pi/">


  <meta property="og:description" content="Recently I bought two TP-Link TL-WN725N adapters off Amazon. They&#8217;re cheap and according to the RPi peripherals list [here], are supposed to work well under Linux. They do, however, require a special driver which is not included in the Linux kernel itself. This leaves you with two options:">







  <meta property="article:published_time" content="2014-04-10T22:22:57+01:00">






<link rel="canonical" href="http://localhost:4000/2014/04/how-to-get-the-tp-link-tl-wn725n-working-on-raspberry-pi/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": null,
      "url": "http://localhost:4000/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Tiago's Tech Blog Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Tiago's Tech Blog
          
        </a>
        <ul class="visible-links"></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/assets/tiago.jpg" alt="Tiago Espinha" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Tiago Espinha</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>A collection of (mostly) tech related content on topics that I encounter in my day to day.</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      

      
        
          
            <li><a href="https://tiagoespinha.net" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i><span class="label">Website</span></a></li>
          
        
          
            <li><a href="https://twitter.com/etiago" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i><span class="label">Twitter</span></a></li>
          
        
          
            <li><a href="https://github.com/etiago" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">Github</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="How to get the TP-Link TL-WN725N working on Raspberry Pi">
    <meta itemprop="description" content="  Recently I bought two TP-Link TL-WN725N adapters off Amazon. They&#8217;re cheap and according to the RPi peripherals list [here], are supposed to work well under Linux. They do, however, require a special driver which is not included in the Linux kernel itself. This leaves you with two options:">
    <meta itemprop="datePublished" content="2014-04-10T22:22:57+01:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">How to get the TP-Link TL-WN725N working on Raspberry Pi
</h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          6 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
        <p style="text-align: justify;">
  Recently I bought two TP-Link TL-WN725N adapters off Amazon. They&#8217;re cheap and according to the RPi peripherals list [<a href="http://elinux.org/RPi_USB_Wi-Fi_Adapters">here</a>], are supposed to work well under Linux. They do, however, require a special driver which is not included in the Linux kernel itself. This leaves you with two options:
</p>

<p style="text-align: justify;">
  &#8211; Use one of MrEngman&#8217;s pre-compiled kernel modules which is available on the Raspberry Pi forums [<a href="http://www.raspberrypi.org/forums/viewtopic.php?f=28&amp;t=62371">here</a>] (kudos to MrEngman to his ongoing effort!).
</p>

<p style="text-align: justify;">
  or
</p>

<p style="text-align: justify;">
  &#8211; You compile your own kernel module.
</p>

<p style="text-align: justify;">
  However, keep in mind the following <strong>very important caveat</strong>: whatever your choice is, this process requires some basic knowledge of Linux! If you don&#8217;t feel comfortable messing around with kernel modules and such, I would recommend that you proceed with caution and maybe even ask a more experienced friend to give you a hand. It&#8217;s unlikely you will ruin your Raspberry Pi but you may very well ruin your installation. <strong>PROCEED WITH CAUTION.</strong>
</p>

<p style="text-align: justify;">
  Now, be aware that if you just want your wifi up and running and don&#8217;t want to be bothered, you really should take the easy way out here and check whether MrEngman has a pre-compiled module that&#8217;s been compiled with the same revision of your kernel. If you cannot find one or if you&#8217;re feeling especially brave, read on for the step by step on how to compile it yourself.
</p>

<p style="text-align: justify;">
  Also keep in mind that this tutorial applies to the Raspbian distribution. It may (or may not) work in Pidora (and others) but it&#8217;s up to you to adjust accordingly.
</p>

<p style="text-align: justify;">
  <!--more-->
</p>

<h1 style="text-align: justify;">
  Compiling a kernel module
</h1>

<p style="text-align: justify;">
  Be wary, this assumes you&#8217;re going to compile a kernel module to the latest version of the Raspberry Pi firmware (and thus, at the time of writing, for the latest version of the 3.10.y branch). If you&#8217;re not running this version, consider updating [<a href="https://github.com/Hexxeh/rpi-update">updating the RPi to the latest firmware</a>]!
</p>

<h2 style="text-align: justify;">
  Pre-requisites
</h2>

<ul style="text-align: justify;">
  <li>
    Linux kernel source for the Raspberry Pi (do <strong>NOT</strong> use the original Linux kernel as it does not contain all the patches and drivers required for your RPi to work smoothly), available on GitHub [<a href="https://github.com/raspberrypi/linux/tree/rpi-3.10.y">here</a>].
  </li>
  <li>
    Driver for the RTL8188EU, available on GitHub [<a href="https://github.com/lwfinger/rtl8188eu">here</a>].
  </li>
</ul>

<p style="text-align: justify;">
  Many Linux distributions provide a package just with the precompiled kernel headers and that makes it easier than what you&#8217;ll have to do on the Raspberry Pi. Still, it&#8217;s not so difficult. All you have to do is:
</p>

<h3 style="text-align: justify;">
  Cloning and compiling the Linux kernel
</h3>

<p style="text-align: justify;">
  1. Start by cloning the Linux kernel for the RPi
</p>

<pre class="brush: bash; title: ; notranslate" title="">cd /usr/src/
sudo git clone https://github.com/raspberrypi/linux.git rpi-3.10.y
cd /usr/src/rpi-3.10.y/</pre>

<p style="text-align: justify;">
  <span style="line-height: 1.5em;">This will have created a folder called /usr/src/rpi-3.10.y/ where all the Linux kernel source now resides in your Raspberry Pi.</span>
</p>

<p style="text-align: justify;">
  2. For ease of use, create a symbolic link to the /lib/modules/ structure
</p>

<pre class="brush: bash; title: ; notranslate" title="">sudo ln -s /usr/src/rpi-3.10.y /lib/modules/`uname -r`/build</pre>

<p style="text-align: justify;">
  Be sure to write it in as is (or simply copy &amp; paste it in!) as the backticks around uname -r will create the right name for the folder. At this point, your /lib/modules/ path will have a link to the directory where the source code resides. We do this so later when we compile the driver, our life becomes much easier (as the Makefile will automatically look in that directory).
</p>

<p style="text-align: justify;">
  3. Copy your kernel configuration file to the directory where the source is:
</p>

<pre class="brush: bash; title: ; notranslate" title="">sudo sh -c 'zcat /proc/config.gz &gt; .config'</pre>

<p style="text-align: justify;">
  This simply pulls the config from your running kernel into the new kernel you&#8217;re about to compile.
</p>

<p style="text-align: justify;">
  4. Pull the latest Module.symvers into your kernel&#8217;s directory. Note: this is one of the reasons why I would recommend updating first to the latest kernel, otherwise you&#8217;ll have to figure out which Module.symvers you need.
</p>

<pre class="brush: bash; title: ; notranslate" title="">curl -O https://raw.githubusercontent.com/raspberrypi/firmware/master/extra/Module.symvers</pre>

<p style="text-align: justify;">
  5. Compile the kernel to a stage that is ready to be linked against kernel modules. You don&#8217;t want to compile the whole kernel since that&#8217;s 1) not necessary for compiling kernel modules and 2) would take ages on a Raspberry Pi with its limited computing power.
</p>

<pre class="brush: bash; title: ; notranslate" title="">sudo make oldconfig
sudo make modules_prepare</pre>

<p style="text-align: justify;">
  6. Clone the driver off GitHub, compile it and off you go!
</p>

<pre class="brush: bash; title: ; notranslate" title="">cd /usr/src/
git clone https://github.com/lwfinger/rtl8188eu.git
cd /usr/src/rtl8188eu/
sudo make
sudo make install</pre>

<p style="text-align: justify;">
  At this stage, the driver&#8217;s firmware as well as the compiled kernel module have been copied into place but there are a few more considerations to be had.
</p>

<p style="text-align: justify;">
  1 &#8211; Do <strong>NOT</strong> plug the wifi dongle with the Raspberry Pi turned on! Many people (including me) have reported that doing so causes the Raspberry Pi to suddenly restart and this can lead to serious corruption of your SD card. Be on the safe side! Shut down your Raspberry Pi (sudo shutdown -h now), plug in the dongle, and turn it back on.
</p>

<p style="text-align: justify;">
  2 &#8211; At this point, when you run &#8220;ifconfig&#8221; you should already have a wlan0 network which is not connected to anything. In my experience, getting it to connect was the biggest challenge so if you have a WPA/WPA2 network and would like to learn how to connect to it via command line, read on.
</p>

<h1 style="text-align: justify;">
  Connecting to a WPA/WPA2 network via command line
</h1>

<p style="text-align: justify;">
  When you know what you&#8217;re doing, this is an extremely simple process. First off, run the following command:
</p>

<pre class="brush: bash; title: ; notranslate" title="">wpa_passphrase &lt;ssid&gt;</pre>

<p style="text-align: justify;">
  Where you should replace <ssid> with the actual SSID of your network (hint: use &#8220;&#8221; if your network&#8217;s name has spaces in it). It will then prompt you to type in the password for your network. This script generates then a few lines in the format of:
&lt;/p&gt;

<pre class="brush: plain; title: ; notranslate" title="">network={
    ssid="Foo"
    #psk="FoobarFoobar"
    psk=f21df897e40a0e7253b8d53e35930e814f312df43ca2b085daa5109f2c2c5e54
}</pre>

<p style="text-align: justify;">
  I recommend that you delete the line started by #psk (as it reveals your password in clear text) and the rest you should copy and paste into a file at /etc/wpa_supplicant.conf. If it exists, overwrite it, if it does not exist, then create it (with e.g. sudo nano /etc/wpa_supplicant.conf).
</p>

<p style="text-align: justify;">
  After you&#8217;ve done that, you need to tell Linux how this network is going to get an IP address and how it&#8217;s managed. You can do so by editing the /etc/network/interfaces file as such:
</p>

<pre class="brush: bash; title: ; notranslate" title="">sudo nano /etc/network/interfaces</pre>

<p style="text-align: justify;">
  Here you should lookout for a line that starts as &#8220;iface wlan0&#8221;. In my case, this line was setting wlan0 as manual which is <strong>NOT</strong> what we want. Ultimately you want something that looks like this:
</p>

<pre class="brush: bash; title: ; notranslate" title="">iface wlan0 inet dhcp
wpa-conf /etc/wpa_supplicant.conf</pre>

<p style="text-align: justify;">
  And <strong>watch out!</strong> If there is a line starting with &#8220;wpa-roam&#8221;, you can safely delete it as it will conflict with your new WPA settings!
</p>

<p style="text-align: justify;">
  After you&#8217;ve modified the file you can then save it and we&#8217;re ready for action. Next thing you need to do is take the WLAN interface down and back up as such:
</p>

<pre class="brush: bash; title: ; notranslate" title="">sudo ifdown wlan0
sudo ifup wlan0</pre>

<p style="text-align: justify;">
  And that&#8217;s it! If everything went well, your Raspberry Pi should now be connected to your network via wifi!
</p>

<p style="text-align: justify;">
  If there&#8217;s something that&#8217;s not clear enough or some steps that I missed, feel free to drop me an e-mail. My e-mail address is my first name [@] my last name [dot] nl. And you can find my first and last name in the url of this blog (hint, my first name is Tiago!).
</p>

<p style="text-align: justify;">
  Finally I would like to thank MrEngman for his dedication and continuous engagement in the Raspberry Pi forums as well as lwfinger for maintaining this driver and making it possible for us to use it on Linux! I would also like to thank Martijn from Grendelman.net for this <a href="http://www.grendelman.net/wp/compiling-kernel-modules-for-raspbian-raspberry-pi/">blog post</a> which helped me in getting all this to work. Thanks! In a future post I will come back and explain how to cross-compile a kernel module for the Raspberry Pi so you can get it done faster by using your (more powerful) desktop computer to do the compilation.
</p>
</ssid></p>

        
      </section>

      <footer class="page__meta">
        
        


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2014-04-10T22:22:57+01:00">April 10, 2014</time></p>


      </footer>

      <section class="page__share">
  

  <a href="https://twitter.com/intent/tweet?text=How+to+get+the+TP-Link+TL-WN725N+working+on+Raspberry+Pi%20http%3A%2F%2Flocalhost%3A4000%2F2014%2F04%2Fhow-to-get-the-tp-link-tl-wn725n-working-on-raspberry-pi%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2F2014%2F04%2Fhow-to-get-the-tp-link-tl-wn725n-working-on-raspberry-pi%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2F2014%2F04%2Fhow-to-get-the-tp-link-tl-wn725n-working-on-raspberry-pi%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/2013/10/chronopost-portugal-servico-enganador/" class="pagination--pager" title="Chronopost Portugal? Serviço enganador…
">Previous</a>
    
    
      <a href="/2014/05/project-how-to-easily-monitor-your-plants-soil-humidity/" class="pagination--pager" title="[Project] How to easily monitor your plants’ soil humidity
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You May Also Enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2022/02/2022-04-11-lsp-docker-mode-with-multiple-clients/" rel="permalink">LSP Docker mode with multiple clients
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
LSP Docker is a fantastic extension if you need to make use of build containers for development. It creates LSP-mode clients in Emacs that allow a language ...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2022/02/2022-02-09-grpc-protobuf-uint64-wrong/" rel="permalink">uint64 encoded in Protobuf bytes looks wrong
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
Today as I was trying to debug an issue, I had to interpret a Protobuf message that happened to have a uint64 in it. I only had access to the packet capture...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2021/06/2021-06-20-https-with-custom-domains-on-azure-cdn/" rel="permalink">HTTPS with custom domains on Azure CDN
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
My blog is written in Jekyll. Simply put, Jekyll takes documents written in Markdown (similar to what you could use to write README files in a Git repositor...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2021/06/2021-06-19-starting-a-new-role/" rel="permalink">Starting a new role
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
As of the 12th of June and after nearly four years, I'm no longer working at Ocado. At Ocado I had the opportunity to work with a number of amazing people a...</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2022 Tiago's Tech Blog. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-5075580-2', 'auto');
  ga('send', 'pageview');

</script>





  </body>
</html>
